(window["webpackJsonpmemory-scheduler"]=window["webpackJsonpmemory-scheduler"]||[]).push([[0],[,,function(e,t,n){e.exports={scheduler:"App_scheduler__1vHEb",header:"App_header__2L3DO",controls:"App_controls__2MSL9",timeline:"App_timeline__1jgvV",customTimeline:"App_customTimeline__LuqHI",error:"App_error__1LS0k"}},,,function(e,t,n){e.exports={legend:"legend_legend__28fLd",legendItem:"legend_legendItem__2j_9d"}},function(e,t,n){e.exports={counter:"counter_counter__3ZU8z",number:"counter_number__QGA_A"}},,,function(e,t,n){e.exports={select:"select_select__XlnEk"}},function(e,t,n){e.exports={button:"button_button__H5057"}},function(e,t,n){e.exports={visualizer:"visualizer_visualizer__IqrZE"}},,function(e,t,n){e.exports={block:"block_block__2bW7g"}},function(e,t,n){e.exports={blockRow:"blockRow_blockRow__2nC0I"}},function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),l=n(1),s=n(9),i=n.n(s),u=function(e){var t=e.options,n=void 0===t?[]:t,r=e.onChange,o="object"===typeof n[0];return a.a.createElement("select",{onChange:r,className:i.a.select},n.map((function(e){return o?a.a.createElement("option",{key:e.value,value:e.value},e.label):a.a.createElement("option",{key:e},e)})))},m=n(10),f=n.n(m),d=function(e){var t=e.label,n=e.onClick,r=e.disabled;return a.a.createElement("button",{className:f.a.button,disabled:r,onClick:n},t)},b=n(3);var p=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},v=n(4);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state=e||Array(50).fill(null)}g.prototype.toString=function(){return this.state.join()},g.prototype.addProcess=function(e,t){var n,r=this.getAvailableSlotsForProcess(e.size);if(0===r.length)throw new Error("Not enough free memory");switch(t){case"LAST":n=r[r.length-1];break;case"BEST":n=r.sort((function(e,t){return e.size-t.size}))[0];break;case"WORST":n=r.sort((function(e,t){return t.size-e.size}))[0];break;case"RANDOM":n=r[Math.floor(Math.random()*(r.length-1))];break;default:throw new Error("This algorithm is not implemented")}this.addProcessAtIndex(e,n.startIndex)},g.prototype.hasUncompletedJobs=function(){return this.state.filter((function(e){return e&&e.done+1<e.duration})).length},g.prototype.incrementProgress=function(){this.state=this.state.map((function(e){return e?E({},e,{done:e.done+1}):null}))},g.prototype.removeCompletedProcesses=function(){this.state=this.state.map((function(e){return e?e.done===e.duration?null:e:null}))},g.prototype.addProcessAtIndex=function(e,t){this.state=[].concat(Object(b.a)(this.state.slice(0,t)),Object(b.a)(Array(e.size).fill(E({},e,{done:0}))),Object(b.a)(this.state.slice(t+e.size)))},g.prototype.getAvailableSlotsForProcess=function(e){for(var t,n=[],r=0;r<this.state.length;r++)null===this.state[r]?(t?t.size=t.size+1:t={startIndex:r,size:1},r===this.state.length-1&&t&&t.size>=e&&n.push(t)):t&&(t.size>=e&&n.push(t),t=null);return n};var O=g,_=function(e,t){try{return t(""),e.split(";").map((function(e,t){var n=e.split(",");if(2!==n.length)throw new Error;return n.forEach((function(e){if(""===e||isNaN(Number(e)))throw new Error})),{size:Number(n[0]),duration:Number(n[1]),index:t}}))}catch(n){t("Invalid timeline!")}},j=n(11),y=n.n(j),k=function(e){var t=e.processes,n=e.algorithm,o=e.started,c=e.setStarted,s=e.setError,i=e.error,u=Object(r.useState)(new O),m=Object(l.a)(u,2),f=m[0],d=m[1],v=Object(r.useState)([]),h=Object(l.a)(v,2),E=h[0],g=h[1],_=Object(r.useState)(0),j=Object(l.a)(_,2),k=j[0],w=j[1];p((function(){N()}),o?1e3:null),Object(r.useEffect)((function(){o&&(d(new O),g([]),w(0),s(""))}),[s,o]);var N=function(){f.incrementProgress(),f.removeCompletedProcesses();try{t[k]&&f.addProcess(t[k],n)}catch(e){c(!1),s(e.message)}g(E.concat([f.state])),t[k+1]||f.hasUncompletedJobs()||c(!1),w(k+1)};return a.a.createElement("div",{className:y.a.visualizer},a.a.createElement(L,{isIndexRow:!0,values:Object(b.a)(Array(50).keys()).map((function(e){return++e}))}),E.map((function(e,t){return a.a.createElement(L,{key:t,values:e.map((function(e){return e?e.index:null}))})})),"Not enough free memory"===i&&a.a.createElement(L,{isErrorRow:!0,values:Array(50).fill(null)}),a.a.createElement(C,{stepCount:k}))},w=n(12),N=n.n(w),S=[{label:"Last-Fit",value:"LAST"},{label:"Best-Fit",value:"BEST"},{label:"Worst-Fit",value:"WORST"},{label:"Random-Fit",value:"RANDOM"}],A=["4,2;8,3;4,2;16,5;8,2;4,2;8,4;4,3;4,3;32,2;12,1","1,8;7,4;10,6;25,2;1,4;13,3;6,2;8,1;50,1","1,8;35,4;3,6;4,2;1,4;3,3;1,2;5,1;50,1","custom"],x=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"],I=n(13),P=n.n(I),z=function(e){var t=e.isInvisible,n=e.value,r=e.isIndexBlock,o=e.isErrorBlock;return a.a.createElement("div",{className:N()(P.a.block),style:{background:t||r?"transparent":x[n],color:o?"red":"white"}},r?"".concat(n):o?"x":null)},R=n(6),T=n.n(R),C=function(e){var t=e.stepCount;return a.a.createElement("div",{className:T.a.counter},a.a.createElement("div",null,"tick count: ",a.a.createElement("span",{className:T.a.number},t)))},B=n(14),D=n.n(B),L=function(e){var t=e.values,n=e.isIndexRow,r=e.isErrorRow;return a.a.createElement("div",{className:D.a.blockRow},t.map((function(e,t){return a.a.createElement(z,{isErrorBlock:r,key:t,value:e,isIndexBlock:n})})))},F=n(5),M=n.n(F),J=function(e){var t=e.processes;return t?a.a.createElement("div",{className:M.a.legend},a.a.createElement("div",{className:M.a.legendItem},a.a.createElement(z,{isInvisible:!0}),a.a.createElement("div",null,"Size"),a.a.createElement("div",null,"Duration")),t.map((function(e){return a.a.createElement("div",{key:e.index,className:M.a.legendItem},a.a.createElement(z,{value:e.index}),a.a.createElement("div",null,e.size),a.a.createElement("div",null,e.duration))}))):null},W=n(2),H=n.n(W),U=function(){var e=Object(r.useState)(S[0].value),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(A[0]),s=Object(l.a)(c,2),i=s[0],m=s[1],f=Object(r.useState)(!1),b=Object(l.a)(f,2),p=b[0],v=b[1],h=Object(r.useState)([]),E=Object(l.a)(h,2),g=E[0],O=E[1],j=Object(r.useState)(""),y=Object(l.a)(j,2),w=y[0],N=y[1];return Object(r.useEffect)((function(){"custom"!==i&&O(_(i,N))}),[i]),a.a.createElement("div",{className:H.a.scheduler},a.a.createElement("header",{className:H.a.header},a.a.createElement("h1",{className:H.a.title},"RAM scheduler"),a.a.createElement("div",{className:H.a.controls},a.a.createElement("div",{className:H.a.timeline},a.a.createElement("h3",null,"Process timeline"),a.a.createElement(u,{options:A,onChange:function(e){var t=e.target.value;m(t),v(!1)}}),"custom"===i&&a.a.createElement("input",{className:H.a.customTimeline,onBlur:function(e){O(_(e.target.value,N))},onKeyPress:function(e){"Enter"===e.key&&O(_(e.target.value,N))}})),a.a.createElement("div",{className:H.a.algo},a.a.createElement("h3",null,"Algorithm"),a.a.createElement(u,{options:S,onChange:function(e){var t=e.target.value;o(t),v(!1)}}))),a.a.createElement(d,{disabled:"Invalid timeline!"===w,label:p?"STOP":"START",onClick:function(){v(!p)}}),w&&a.a.createElement("span",{className:H.a.error},w)),a.a.createElement(J,{processes:g}),a.a.createElement(k,{algorithm:n,processes:g,started:p,setStarted:v,setError:N,error:w}))};c.a.render(a.a.createElement(U,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.64ad5c01.chunk.js.map